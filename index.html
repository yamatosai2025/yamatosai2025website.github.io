<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>山東祭2025｜E。-ast-</title>
    
    <meta name="description" content="山東祭2025の公式ウェブサイトへようこそ！開催日時、イベントスケジュール、模擬店や展示の情報をリアルタイムで更新中。宇宙をテーマにした今年の文化祭をお見逃しなく！">
    
    <link rel="icon" type="image/png" href="favicon.png">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- ★ 修正点: クリティカルCSS & フォント定義をインライン化 -->
    <style>
        @font-face {
            font-family: 'Playfair Display';
            font-style: normal;
            font-weight: 900;
            font-display: swap;
            src: url(https://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWMI.woff2) format('woff2');
        }
        :root {
            --bg-color: #1a1a3b;
            --text-color: #f0f0f0;
            --accent-color: #d1bfff;
            --card-bg: rgba(0, 0, 0, 0.3);
            --border-color: rgba(255, 255, 255, 0.1);
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Noto Sans JP', 'Inter', sans-serif;
            overflow-x: hidden;
            margin: 0;
        }
        .font-playfair { font-family: 'Playfair Display', serif; }
        @keyframes gradient-animation { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-20px); } 60% { transform: translateY(-10px); } }
        @keyframes pulse { 0%, 100% { opacity: 0.5; text-shadow: 0 0 5px var(--accent-color); } 50% { opacity: 1; text-shadow: 0 0 15px var(--accent-color); } }
        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--bg-color); z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.8s ease, visibility 0.8s ease; }
        #preloader .loader-text { color: var(--accent-color); font-size: 2rem; font-family: 'Playfair Display', serif; animation: pulse 2s infinite; }
        #starry-sky { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        header { height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; position: relative; padding: 1rem; }
        header h1 { font-size: 3rem; font-weight: 900; margin-bottom: 1rem; line-height: 1.2; }
        header p { font-size: 1.125rem; color: #d1d5db; }
        .galaxy-text { background: linear-gradient(45deg, #d1bfff, #a29bfe, #74b9ff, #d1bfff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-fill-color: transparent; animation: gradient-animation 5s ease infinite; background-size: 200% 200%; }
        .scroll-down-arrow { position: absolute; bottom: 2.5rem; left: 50%; transform: translateX(-50%); animation: bounce 2s infinite; color: var(--accent-color); font-size: 1.875rem; }
        #lang-switcher-container { position: fixed; top: 1.25rem; right: 1.25rem; z-index: 50; }
        #lang-switcher-btn { padding: 0.5rem 1rem; color: white; background-color: var(--card-bg); backdrop-filter: blur(5px); border: 1px solid var(--border-color); border-radius: 9999px; transition: all 0.3s; cursor: pointer; display: flex; align-items: center; gap: 0.5rem; }
        #lang-switcher-btn:hover { background-color: rgba(255, 255, 255, 0.2); }
        .icon { display: inline-block; width: 1em; height: 1em; stroke-width: 0; stroke: currentColor; fill: currentColor; }
        @media (min-width: 768px) {
            header h1 { font-size: 5rem; }
            header p { font-size: 1.5rem; }
        }
    </style>
    
    <link rel="preload" href="style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="style.css"></noscript>
</head>
<body>

    <canvas id="starry-sky"></canvas>
    <div id="preloader"><div class="loader-text">E . - a s t -</div></div>
    
    <div id="lang-switcher-container">
        <button id="lang-switcher-btn">
            <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/><path d="M12 4c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6zm0 10c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z"/><path d="M12 7c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3zm0 4c-.551 0-1-.449-1-1s.449-1 1-1 1 .449 1 1-.449 1-1 1z"/></svg>
            <span id="lang-switcher-text">English</span>
        </button>
    </div>

    <div id="mapModal" class="modal">
        <span class="modal-close" id="closeModal">&times;</span>
        <img class="modal-content" id="modalImage" src="" loading="lazy" decoding="async" onerror="this.onerror=null;this.src='https://placehold.co/1200x800/1a1a3b/d1bfff?text=Map+Error';">
    </div>

    <header>
        <div>
            <h1 class="font-playfair galaxy-text" data-lang-key="heroTitle">山東祭2025<br>E-AST-</h1>
            <p class="font-playfair" data-lang-key="heroSubtitle">スローガン：『チ。-地球の運動について-』</p>
        </div>
        <a href="#info" class="scroll-down-arrow"><svg class="icon" viewBox="0 0 24 24"><path d="m11.998 17 7-7-1.414-1.414L12 14.172 6.414 8.586 5 10l7 7z"/></svg></a>
    </header>

    <main>
        <section id="info" class="fade-in-section">
            <h2 class="font-playfair section-title" data-lang-key="infoTitle">Information</h2>
            <div class="grid md-grid-cols-2">
                <div class="info-card floating-card" style="background-image: url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=800&auto=format&fit=crop&fm=webp');">
                    <h3 class="font-playfair" data-lang-key="infoDateTitle">日程</h3>
                    <p data-lang-key="infoDate1">8月30日 (土)</p>
                    <p data-lang-key="infoDate2">8月31日 (日)</p>
                </div>
                <div class="info-card floating-card" style="background-image: url('https://images.unsplash.com/photo-1506443432602-ac2fcd6f54e0?q=80&w=800&auto=format&fit=crop&fm=webp');">
                    <h3 class="font-playfair" data-lang-key="infoTimeTitle">一般公開 時間</h3>
                    <p data-lang-key="infoTime1">8/30 (土) 10:30 〜 15:00</p>
                    <p data-lang-key="infoTime2">8/31 (日) 10:00 〜 14:00</p>
                </div>
            </div>
        </section>

        <section id="schedule" class="fade-in-section">
            <h2 class="font-playfair section-title" data-lang-key="scheduleTitle">Schedule</h2>
            <div>
                <div class="tab-buttons" id="date-tabs">
                    <button data-date-target="day1" class="tab-active" data-lang-key="scheduleDate1">8月30日(土)</button>
                    <button data-date-target="day2" data-lang-key="scheduleDate2">8月31日(日)</button>
                </div>
                <div id="schedule-content-container">
                    <div id="day1" class="date-content">
                        <h3 class="font-playfair" style="text-align: center; margin-bottom: 2rem; color: #d1d5db;" data-lang-key="scheduleDay1Title">8/30 (Sat)</h3>
                        <div class="grid md-grid-cols-2">
                            <div class="schedule-card">
                                <h4 class="font-playfair" data-lang-key="scheduleVenueGym">体育館</h4>
                                <div class="space-y-6">
                                    <div class="schedule-item"><time>10:30~10:35</time><div data-lang-key="eventD1G1">オープニング</div></div>
                                    <div class="schedule-item"><time>10:35~11:30</time><div data-lang-key="eventD1G2">放送部作品上映</div></div>
                                    <div class="schedule-item"><time>11:30~12:00</time><div data-lang-key="eventD1G3">歌うまAブロック</div></div>
                                    <div class="schedule-item"><time>12:05~12:45</time><div data-lang-key="eventD1G4">一年生ダンス</div></div>
                                    <div class="schedule-item"><time>12:50~13:10</time><div data-lang-key="eventD1G5">チアパフォーマンス</div></div>
                                    <div class="schedule-item"><time>13:15~13:45</time><div data-lang-key="eventD1G6">歌うまBブロック</div></div>
                                    <div class="schedule-item"><time>13:50~14:20</time><div data-lang-key="eventD1G7">イントロドン</div></div>
                                    <div class="schedule-item"><time>14:25~14:55</time><div data-lang-key="eventD1G8">有志ダンス</div></div>
                                </div>
                            </div>
                            <div class="schedule-card" style="display:flex; align-items:center; justify-content:center;">
                                 <p style="text-align:center; color: #9ca3af;" data-lang-key="eventD1A_none">講堂での一般公開企画はありません</p>
                            </div>
                        </div>
                    </div>
                    <div id="day2" class="date-content hidden">
                        <h3 class="font-playfair" style="text-align: center; margin-bottom: 2rem; color: #d1d5db;" data-lang-key="scheduleDay2Title">8/31 (Sun)</h3>
                        <div class="grid md-grid-cols-2">
                            <div class="schedule-card">
                                <h4 class="font-playfair" data-lang-key="scheduleVenueGym">体育館</h4>
                                <div class="space-y-6">
                                    <div class="schedule-item"><time>10:10~10:40</time><div data-lang-key="eventD2G1">歌うまCブロック</div></div>
                                    <div class="schedule-item"><time>10:45~11:30</time><div data-lang-key="eventD2G2">H-1グランプリ</div></div>
                                    <div class="schedule-item"><time>11:35~12:15</time><div data-lang-key="eventD2G3">一年生ダンス</div></div>
                                    <div class="schedule-item"><time>12:20~13:05</time><div data-lang-key="eventD2G4">有志ダンス</div></div>
                                    <div class="schedule-item"><time>13:10~13:40</time><div data-lang-key="eventD2G5">書道パフォーマンス</div></div>
                                    <div class="schedule-item"><time>13:45~13:50</time><div data-lang-key="eventD2G6">エンディング</div></div>
                                </div>
                            </div>
                            <div class="schedule-card">
                                <h4 class="font-playfair" data-lang-key="scheduleVenueHall">講堂</h4>
                                <div class="space-y-6">
                                    <div class="schedule-item"><time>10:10~11:00</time><div data-lang-key="eventD2A1">スマブラ大会</div></div>
                                    <div class="schedule-item"><time>11:05~11:20</time><div data-lang-key="eventD2A2">歌うま準決勝</div></div>
                                    <div class="schedule-item"><time>11:30~14:05</time><div data-lang-key="eventD2A3">バンド</div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="booths" class="fade-in-section">
            <h2 class="font-playfair section-title" data-lang-key="boothsTitle">Booths & Exhibits</h2>
            <div id="filters">
                <button class="filter-active" data-filter="all" data-lang-key="filterAll">すべて</button>
                <button data-filter="class" data-lang-key="filterClass">クラス</button>
                <button data-filter="club" data-lang-key="filterClub">部活・委員会</button>
            </div>
            <div id="booth-grid" class="grid grid-cols-1 md-grid-cols-2 lg-grid-cols-3"></div>
            <div style="text-align: center; margin-top: 3rem;">
                <a href="https://drive.google.com/drive/folders/1g72cGElfsPMMzFcXUasVw_DdJJnD_Eql" target="_blank" rel="noopener noreferrer" class="cta-button">
                    <svg class="icon" style="margin-right: 0.5rem;" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                    <span data-lang-key="researchPostersButton">本校2年生の探究ポスターはこちら</span>
                </a>
            </div>
        </section>

        <section id="crowd-status" class="fade-in-section">
            <h2 class="font-playfair section-title" data-lang-key="crowdTitle">リアルタイム混雑状況</h2>
            <div id="crowd-status-grid" class="grid grid-cols-1 md-grid-cols-2 lg-grid-cols-3">
                <p style="grid-column: 1 / -1; text-align: center; color: #9ca3af;" data-lang-key="crowdLoading">混雑状況を読み込んでいます...</p>
            </div>
        </section>

        <section id="map" class="fade-in-section">
            <h2 class="font-playfair section-title" data-lang-key="mapTitle">School Map</h2>
            <div class="map-container">
                <div class="tab-buttons" id="map-tabs">
                    <button class="tab-active" data-map-target="map-1f" data-lang-key="mapTab1F">1F</button>
                    <button data-map-target="map-2f" data-lang-key="mapTab2F">2F</button>
                    <button data-map-target="map-3f" data-lang-key="mapTab3F">3F</button>
                    <button data-map-target="map-gym" data-lang-key="mapTabGym">体育館</button>
                </div>
                <div id="map-images">
                    <img id="map-1f" class="map-image" src="山東祭校内マップ1F.svg" alt="1階 校内マップ" width="1000" height="600" onerror="this.onerror=null;this.src='https://placehold.co/1000x600/1a1a3b/d1bfff?text=Map+1F+Error';">
                    <img id="map-2f" class="map-image hidden" src="山東祭校内マップ2F.svg" alt="2階 校内マップ" width="1000" height="600" loading="lazy" decoding="async" onerror="this.onerror=null;this.src='https://placehold.co/1000x600/1a1a3b/d1bfff?text=Map+2F+Error';">
                    <img id="map-3f" class="map-image hidden" src="山東祭校内マップ3F.svg" alt="3階 校内マップ" width="1000" height="600" loading="lazy" decoding="async" onerror="this.onerror=null;this.src='https://placehold.co/1000x600/1a1a3b/d1bfff?text=Map+3F+Error';">
                    <img id="map-gym" class="map-image hidden" src="山東祭校内マップ体育館.svg" alt="体育館マップ" width="1000" height="600" loading="lazy" decoding="async" onerror="this.onerror=null;this.src='https://placehold.co/1000x600/1a1a3b/d1bfff?text=Map+Gym+Error';">
                </div>
                <p style="text-align: center; margin-top: 1rem; color: #9ca3af;" data-lang-key="mapDesc">マップをクリックまたはタップで拡大表示します。</p>
            </div>
        </section>

        <section id="access" class="fade-in-section">
            <h2 class="font-playfair section-title" data-lang-key="accessTitle">Access</h2>
            <div class="grid lg-grid-cols-2">
                <div class="info-card">
                    <h3 class="font-playfair" data-lang-key="accessSchoolName">山形県立山形東高等学校</h3>
                    <p><svg class="icon" style="width: 1.5rem;" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg> <span data-lang-key="accessAddressTitle">住所:</span> <span data-lang-key="accessAddress">〒990-0044 山形県山形市緑町1-5-59</span></p>
                    <p style="margin-top: 0.5rem;"><svg class="icon" style="width: 1.5rem;" viewBox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg> <span data-lang-key="accessPhoneTitle">電話:</span> 023-622-3010</p>
                </div>
                <div class="info-card" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                    <svg class="icon" style="font-size: 2.25rem; color: var(--accent-color); margin-bottom: 1rem;" viewBox="0 0 24 24"><path d="M21.71 11.29l-9-9c-.39-.39-1.02-.39-1.41 0l-9 9c-.39.39-.39 1.02 0 1.41l9 9c.39.39 1.02.39 1.41 0l9-9c.39-.39.39-1.02 0-1.41zM12 21.5L3.5 13H6v-2h2v2h3.5L12 21.5zM12 11.5L6.5 6H9V4h2v2h3.5L12 11.5z"/></svg>
                    <h3 class="font-playfair" style="font-size: 1.25rem; margin-bottom: 1rem;" data-lang-key="accessGmapTitle">地図で場所を確認</h3>
                    <a href="https://www.google.com/maps/place/%E5%B1%B1%E5%BD%A2%E7%9C%8C%E7%AB%8B%E5%B1%B1%E5%BD%A2%E6%9D%B1%E9%AB%98%E7%AD%89%E5%AD%A6%E6%A0%A1" target="_blank" rel="noopener noreferrer" class="cta-button" data-lang-key="accessGmapButton">
                        Googleマップで開く
                    </a>
               </div>
            </div>
        </section>

        <section class="fade-in-section" style="text-align: center;">
             <a href="https://www.instagram.com/yamatosai_2025" target="_blank" rel="noopener noreferrer" class="cta-button">
                <svg class="icon" style="margin-right: 0.5rem;" viewBox="0 0 24 24"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10m0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg>
                <span data-lang-key="instagramButton">山東祭 公式Instagramへ</span>
            </a>
        </section>
    </main>

    <footer>
        <div class="footer-stars"></div>
        <p data-lang-key="footerText">© 2025 山形東高校 山東祭実行委員会</p>
    </footer>
    
    <script src="script.js" defer></script>
</body>
</html>
